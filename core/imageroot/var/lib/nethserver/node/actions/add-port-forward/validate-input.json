{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "add-port-forward input",
    "$id": "http://schema.nethserver.org/node/add-port-forward-input.json",
    "description": "Add firewall configuration for a new port forward",
    "examples": [
        {
            "external_port": "5060",
            "internal_port": "5060",
            "protocols": [
                "udp",
                "tcp"
            ]
        },
        {
            "external_port": "4422",
            "internal_port": "22",
            "protocols": [
                "udp",
                "tcp"
            ],
            "destination_ip": "192.168.1.100"
        }
    ],
    "type": "object",
    "required": [
        "external_port",
        "internal_port",
        "protocols"
    ],
    "properties": {
        "external_port": {
            "type": "string",
            "title": "External port or port range",
            "minLength": 1
        },
        "internal_port": {
            "type": "string",
            "title": "Internal port or port range",
            "minLength": 1
        },
        "protocols": {
            "type": "array",
            "title": "Protocols",
            "minItems": 1,
            "items": {
                "type": "string",
                "enum": ["tcp", "udp"]
            }
        },
        "destination_ip": {
            "type": "string",
            "title": "Destination IP address",
            "format": "ipv4"
        }
    }
}
